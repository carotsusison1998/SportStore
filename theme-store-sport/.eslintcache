[{"D:\\Training\\SportStore\\theme-store-sport\\src\\components\\products\\InsertProduct.js":"1","D:\\Training\\SportStore\\theme-store-sport\\src\\libs\\libs.js":"2","D:\\Training\\SportStore\\theme-store-sport\\src\\components\\products\\ListProduct.js":"3"},{"size":6725,"mtime":1612167093315,"results":"4","hashOfConfig":"5"},{"size":817,"mtime":1612167054109,"results":"6","hashOfConfig":"5"},{"size":2333,"mtime":1612164594073,"results":"7","hashOfConfig":"5"},{"filePath":"8","messages":"9","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"10"},"7hyg74",{"filePath":"11","messages":"12","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"13","messages":"14","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"D:\\Training\\SportStore\\theme-store-sport\\src\\components\\products\\InsertProduct.js",["15"],"import React, { Component } from 'react';\r\nimport $ from 'jquery';\r\nimport { CKEditor } from '@ckeditor/ckeditor5-react';\r\nimport ClassicEditor from '@ckeditor/ckeditor5-build-classic';\r\nconst {limitText, noticeMessage} = require('../../libs/libs');\r\nconst axios = require('axios').default;\r\n\r\nexport default class InsertProduct extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            dataBrands: [],\r\n            name_product: '',\r\n            price_product: '',\r\n            sale_product: '',\r\n            quantity_product: '',\r\n            image_product: [],\r\n            description_product: '',\r\n            id_brand: ''\r\n        };\r\n        this.form = React.createRef();\r\n    }\r\n    isChange = (event) => {\r\n        $(\".msg-error\").remove();\r\n        const name = event.target.name;\r\n        const value = event.target.value;\r\n        this.setState({\r\n            [name]: value\r\n        })\r\n    }\r\n    isChangeFile = (event) => {\r\n        const files = [...this.state.image_product];\r\n        files.push(...event.target.files);\r\n        this.setState({\r\n            image_product: files\r\n        });\r\n    }\r\n    onClickAddProduct = async (event) => {\r\n        event.preventDefault();\r\n        const data = new FormData();\r\n        data.append(\"name_product\", this.state.name_product);\r\n        data.append(\"price_product\", this.state.price_product);\r\n        data.append(\"sale_product\", this.state.sale_product);\r\n        data.append(\"quantity_product\", this.state.quantity_product);\r\n        data.append(\"description_product\", this.state.description_product);\r\n        data.append(\"id_brand\", this.state.id_brand);\r\n        this.state.image_product.forEach((file) => data.append('image_product', file));\r\n        // const progress = {\r\n        //     onUploadProgress: progressEvent => {\r\n        //         this.notify(\"upload thành công\" + Math.round(progressEvent.loaded / progressEvent.total * 100) + \"%\");\r\n        //     }\r\n        // }\r\n        await axios.post('http://localhost:3100/products', data).then(response => {\r\n            if(response.data.status === true){\r\n                noticeMessage(response.data.message);\r\n                this.form.current.reset();\r\n            }\r\n        }).catch(function (error) {\r\n            if(error.response.status === 400){\r\n                if($(\".\"+error.response.data.result.details[0].context.key).find()){\r\n                    if($(\".msg-error\").find()){\r\n                        $(\".msg-error\").remove();\r\n                    }\r\n                    $(\".\"+error.response.data.result.details[0].context.key).append(\"<p class='msg-error'>\"+error.response.data.result.details[0].message+\"</p>\");\r\n                }\r\n            }\r\n        });\r\n    }\r\n    \r\n    async componentDidMount() {\r\n        await axios.get('http://localhost:3100/brands').then(response => { \r\n            this.setState({\r\n                dataBrands: response.data.result\r\n            })\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n        });\r\n    }\r\n    showDataBrands = () => {\r\n        if(this.state.dataBrands.length > 0){\r\n            return this.state.dataBrands.map((value, key) => {\r\n                return <option key={value.id} value={value.id} >{value.name_brand}</option>\r\n            })\r\n        }\r\n    }\r\n    render() {\r\n        return (\r\n            <>\r\n                <form ref={this.form}>\r\n                    <div className=\"form-group id_brand\">\r\n                        <label htmlFor=\"exampleInputEmail1\">Tên sản phẩm</label>\r\n                        <select onChange={(event) => this.isChange(event)} className=\"form-control\" name=\"id_brand\">\r\n                            <option>Vui lòng chọn</option>\r\n                            {this.showDataBrands()}\r\n                        </select>\r\n                    </div>\r\n                    <div className=\"form-group name_product\">\r\n                        <label htmlFor=\"exampleInputEmail1\">Tên sản phẩm</label>\r\n                        <input type=\"text\" onChange={(event)=>this.isChange(event)} className=\"form-control\" placeholder=\"Tên sản phẩm\" name=\"name_product\" />\r\n                    </div>\r\n                    <div className=\"form-group price_product\">\r\n                        <label htmlFor=\"exampleInputEmail1\">Giá sản phẩm</label>\r\n                        <input type=\"text\" onChange={(event)=>this.isChange(event)} className=\"form-control\" placeholder=\"Giá sản phẩm\" name=\"price_product\" />\r\n                    </div>\r\n                    <div className=\"form-group sale_product\">\r\n                        <label htmlFor=\"exampleInputEmail1\">Giá sale sản phẩm</label>\r\n                        <input type=\"text\" onChange={(event)=>this.isChange(event)} className=\"form-control\" placeholder=\"Giá sale sản phẩm\" name=\"sale_product\" />\r\n                    </div>\r\n                    <div className=\"form-group quantity_product\">\r\n                        <label htmlFor=\"exampleInputEmail1\">Số lượng sản phẩm</label>\r\n                        <input type=\"text\" onChange={(event)=>this.isChange(event)} className=\"form-control\" placeholder=\"Số lượng sản phẩm\" name=\"quantity_product\" />\r\n                    </div>\r\n                    <div className=\"form-group image_product\">\r\n                        <label htmlFor=\"exampleInputEmail1\">Hình ảnh sản phẩm</label>\r\n                        <input type=\"file\" multiple onChange={(event)=>this.isChangeFile(event)} className=\"form-control\" placeholder=\"Hình ảnh sản phẩm\" name=\"image_product\" />\r\n                    </div>\r\n                    <div className=\"form-group description_product\">\r\n                        <label htmlFor=\"exampleInputEmail1\">Mô tả sản phẩm</label>\r\n                        <CKEditor\r\n                            editor={ ClassicEditor }\r\n                            onReady={ editor => {\r\n                                // You can store the \"editor\" and use when it is needed.\r\n                                // console.log( 'Editor is ready to use!', editor );\r\n                            } }\r\n                            onChange={ ( event, editor ) => {\r\n                                const data = editor.getData();\r\n                                this.setState({\r\n                                    description_product: data\r\n                                })\r\n                            } }\r\n                        />\r\n                    </div>\r\n                    <button type=\"reset\" onClick={(event)=>this.onClickAddProduct(event)} className=\"btn btn-primary\">Thêm mới</button>\r\n                </form>\r\n            </>\r\n        )\r\n    }\r\n}\r\n","D:\\Training\\SportStore\\theme-store-sport\\src\\libs\\libs.js",[],"D:\\Training\\SportStore\\theme-store-sport\\src\\components\\products\\ListProduct.js",["16"],{"ruleId":"17","severity":1,"message":"18","line":5,"column":8,"nodeType":"19","messageId":"20","endLine":5,"endColumn":17},{"ruleId":"21","severity":1,"message":"22","line":28,"column":33,"nodeType":"23","endLine":28,"endColumn":91},"no-unused-vars","'limitText' is assigned a value but never used.","Identifier","unusedVar","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement"]